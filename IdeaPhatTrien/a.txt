DROP TABLE "main","sqlite_sequence";)


CREATE TABLE EMPLOYEE (
	ID CHAR(50) PRIMARY KEY UNIQUE,
	NAME varchar(255) NOT NULL,
	SEX CHAR(20),
	AGE INTEGER NOT NULL,
	UNIT varchar(255) NOT NULL
);

CREATE TABLE SESSION (
	ID CHAR(50) PRIMARY KEY UNIQUE,
	NAME CHAR(50) NOT NULL,
	DURATION INTEGER NOT NULL
);

CREATE TABLE LIST_EMPLOYEE (
	ID INTEGER PRIMARY KEY AUTOINCREMENT,
	ID_EMPLOYEE CHAR(50),
	ID_SESSION CHAR(50),
		FOREIGN KEY(ID_EMPLOYEE) REFERENCES EMPLOYEE(ID),
		FOREIGN KEY(ID_SESSION) REFERENCES SESSION(ID)
);

CREATE TABLE RECORDER (
	ID INTEGER PRIMARY KEY AUTOINCREMENT,
	ID_SESSION CHAR(50),
	RECORD_DATE date,
		FOREIGN KEY(ID_SESSION) REFERENCES SESSION(ID)
);

-- 	ALOW NULL ARRIVED_TIME -> NULL THEN OFF
CREATE TABLE DETAIL_RECORD (
	ID INTEGER PRIMARY KEY AUTOINCREMENT,
	ARRIVED_TIME datetime,
	IS_BACKUP BIT,
	ID_EMPLOYEE char(50),
	ID_RECORDER char(50),
		FOREIGN KEY(ID_RECORDER) REFERENCES RECORDER(ID)
);

